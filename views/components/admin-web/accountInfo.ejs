<div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="profileModalLabel">Thông Tin Tài Khoản</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="profileForm">
                    <div class="text-center mb-4">
                        <div class="avatar-upload position-relative mx-auto" style="width: 150px; height: 150px;">
                            <div class="avatar-circle" style="width: 150px; height: 150px;">
                                <% if (user && user.avatar) { %>
                                    <img id="avatarPreview" src="<%= user.avatar %>" alt="<%= user.username %>" />
                                <% } else { %>
                                    <span class="avatar-text" style="font-size: 48px;"><%= user.username.charAt(0).toUpperCase() %></span>
                                <% } %>
                            </div>
                            <div class="position-absolute bottom-0 end-0">
                                <label for="avatarUpload" class="btn btn-sm btn-primary rounded-circle">
                                    <i class="bi bi-camera"></i>
                                </label>
                                <input type="file" id="avatarUpload" class="d-none" accept="image/*">
                            </div>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="profileUsername" class="form-label">Tên Tài Khoản</label>
                        <input type="text" class="form-control" id="profileUsername" value="<%= user.username %>" readonly>
                    </div>
                    <div class="mb-3">
                        <label for="profileEmail" class="form-label">Email</label>
                        <input type="email" class="form-control" id="profileEmail" value="<%= user.email || '' %>">
                    </div>
                    <div class="mb-3">
                        <label for="profileRole" class="form-label">Vai Trò</label>
                        <input type="text" class="form-control" id="profileRole" value="<%= user.role_id === 1 ? 'Admin' : 'Người dùng' %>" readonly>
                    </div>
                    <button type="submit" class="btn btn-primary" id="profileSubmitButton">Cập Nhật</button>
                </form>
            </div>
        </div>
    </div>
</div>